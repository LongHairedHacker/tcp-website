<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>== t5chUNk cµBeR pARty ==</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" type="text/css" href="fonts.css">
  <link rel="stylesheet" type="text/css" href="normalize.css">
  <link rel="stylesheet" type="text/css" href="stylesheet.css">
</head>
<body>
  <img id="background" src="background.jpg" style="display: none; visibility: hidden;"/>

  <canvas id="animation"></canvas>

  <div id="container">
    <div class="content">
      <img class="escalator" src="t_u_t.png" alt="Thies und Thies Eventeskalation GbR eskaliert..."/>
      <img class="logo" src="tcp2017.png" alt="TCP/2017"/>
      <img class="logosmall" src="cybertschunk.png" alt="Tschunk Cyber Party"/>
      <img class="titleimg" src="title.png" alt="Tschunk Cyber Party"/>
      <div class="titletext"><h1>TCP/2017<br/>tschunk cyber party</h1></div>

      <h2>Was?</h2>
      <a href="https://twitter.com/hashtag/zaunei2017?f=tweets&vertical=default&src=hash">#zaunei2017</a> &#151; die Tschunk Cyber Party:<br/>
      Nach der #zaunei2016 folgt nun die neue, abgecyberte Version der beliebten Party!<br/>
      Mit Musik von <a href="https://twitter.com/couchsofa">CouchSofa</a> und <a href="https://twitter.com/cybermutti">dnc</a>.<br/>
      Und mit Noms von <a href="https://twitter.com/ak7ways">ak7ways</a>.<br/>
      Außerdem mit Tschunk gemixt von <a href="https://twitter.com/zaunei">Zaunei</a> persönlich.

      <h2>Wann?</h2>
      14.10.2017 ab 16:00

      <h2>Wo?</h2>
      In den Räumen von <a href="https://chaos-inkl.de/">Chaos inKL.</a><br/>

      <br/>

      <h2>Anmeldung?</h2>
      Vorherige <a href="https://tickets.eskalation.rocks/TuTEskalation/zaunei2017/">Anmeldung</a> hilft uns beim Planen.<br/>
      Der Eintritt zur #zaunei2017 ist frei.<br/>
      Eine Spende in Höhe von 5€ wird empfohlen.<br/>
      <br/>
      <small><a href="impressum.html">Impressum</a></small>
    </div>
  </div>

    <script type="text/javascript">
        function setup() {
            var lines = [];

            var newAfter = 45;
            var untilNew = 0;

            var lineStart = 355 - 196/2 + 3;
            var lineAccel = 0.01;

            var fps = 60;

            function loadReadyRun(image, path, cb) {
                image.addEventListener('load', cb, false);
                image.src = path;
            }


            function redraw() {
                ctx.drawImage(backgroundImage, 0, 0);

                for(var line of lines) {

                    ctx.drawImage(lineImage, 0, line.y);

                    line.speed += lineAccel;
                    line.y += line.speed;
                }

                ctx.drawImage(darkenerImage, 0, 0);

                lines = lines.filter(function (line) { return line.y < background.height });

                untilNew--;
                if(untilNew < 0) {
                    var line = {
                        y : lineStart,
                        speed : 0,
                    }

                    lines.push(line);

                    untilNew = newAfter;
                }
            }

            var canvas = document.getElementById('animation');
            var ctx = canvas.getContext('2d');

            var backgroundImage = new Image();
            var lineImage = new Image();
            var darkenerImage = new Image();

            loadReadyRun(backgroundImage, 'bganim/bg-nolines.png', function() {
                    canvas.width = backgroundImage.width;
                    canvas.height = backgroundImage.height;

                    loadReadyRun(lineImage, 'bganim/bg-line.png', function() {
                        loadReadyRun(darkenerImage, 'bganim/bg-darkener.png', function() {
                            var container = document.getElementById('container');
                            container.style = 'background-image: linear-gradient(rgba(23,36,48,0.0), rgba(23,36,48,1.0));';
                            redraw();
                            setInterval(redraw, 1000.0 / fps);
                        });
                    });
                });
        };

        setup();
    </script>
</body>
</html>
